%%%%%%%%%%%%
% Packages %
%%%%%%%%%%%%
\usepackage[
    rmargin=2.5cm,
    lmargin=3.5cm,
    tmargin=2.5cm,
    bmargin=2.5cm
    ]{geometry}

\usepackage{pdflscape} 
\usepackage{mathptmx} 
\usepackage{calc} 
\usepackage{fancyhdr} 
\usepackage{multicol} 
\usepackage{sectsty} 
\usepackage{fullpage} 
\usepackage{colortbl} 
\usepackage{makeidx} 
\usepackage{endnotes} 
\usepackage{rotating}
\usepackage{rotfloat}
\usepackage{ragged2e}
\usepackage{epigraph}
\usepackage[english]{babel}
\usepackage[titles]{tocloft}
\usepackage[ragged]{footmisc}
\usepackage[dotinlabels]{titletoc}
\usepackage[nobottomtitles*]{titlesec}

\usepackage{lipsum}
\usepackage{import}
\usepackage{comment}
\usepackage{enumitem}
\usepackage{etoolbox}

\usepackage[
    format=plain,
    textfont=normal,
    justification=justified,
    singlelinecheck=false,
    font=normal
    ]{caption}
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{subscript}

\usepackage{listings}
\usepackage{array}

\usepackage{lmodern}
\usepackage{adjustbox}
\usepackage{indentfirst}
\usepackage{placeins}
\usepackage{parskip}
\usepackage{dashbox}

\usepackage{graphicx}
\usepackage{float}
\usepackage{svg}

\usepackage{setspace}
\usepackage{xspace}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{tabu}
\usepackage{threeparttable}
\usepackage{supertabular} 

\usepackage{amsmath}
\usepackage{amsbsy}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{mathtools}
\usepackage{physics}
\usepackage[
  warnings-off={
    mathtools-colon,
    mathtools-overbracket
    }
  ]{unicode-math}
\usepackage{xfrac}
\usepackage{upgreek}
\usepackage{bm}

\usepackage{appendix}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage[intoc, english]{nomencl}

\usepackage{natbib}

%%%%%%%%%%%%%%%
% Definitions %
%%%%%%%%%%%%%%%
\definecolor{lacivert}{rgb}{0.0, 0.00, 0.52}

%%%%%%%%%%%%%%%%%%%%
% Defined Commands %
%%%%%%%%%%%%%%%%%%%%
% \DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
% \DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclarePairedDelimiter{\card}{\lvert}{\rvert}
\mathchardef\mhyphen="2D

\DeclareMathOperator*{\argmax}{arg\,max\,}
\DeclareMathOperator*{\argmin}{arg\,min\,}
\DeclareMathOperator{\distance}{d}
\DeclareMathSymbol{\omicron}{\mathord}{letters}{"6F}
\DeclareMathSymbol{\sminus}{\mathbin}{AMSa}{"39}

\newcommand{\plus}{\scalebox{0.5}{+}}
\newcommand{\minus}{\scalebox{0.5}{-}}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\degrees}{^\circ}
\newcommand{\reals}{\mathbb{R}}
\newcommand{\integers}{\mathbb{Z}}
\newcommand{\rangedots}{\mathinner{\ldotp \ldotp}}
\newcommand{\concat}{\; \middle| \;}

\newcommand\rbr[1]{\left(#1\right)}
\newcommand\sqbr[1]{\left[#1\right]}
\newcommand\cbr[1]{\left\{#1\right\}}
\newcommand\abr[1]{\langle#1\rangle}

\newcommand\set[1]{\left\{ \, #1 \, \right\}}
\newcommand\Set[2]{\left\{ \, #1 \; \colon \; #2 \, \right\}}

\newcommand{\function}[2]{\operatorname{#1} \left( #2 \right)}
\newcommand{\dist}[2]{\distance \left( #1, #2 \right)}

\newcommand{\g}[1]{\operatorname{s} \left( #1 \right)}

\newcommand{\V}[1]{\symrm{\symbf{#1}}}
\newcommand{\qmatrix}[1]{\begin{bmatrix}#1\end{bmatrix}}

\newcommand{\qbor}{\quad \textnormal{or} \quad}
\newcommand{\qbwhere}{\quad \textnormal{where} \quad}
\newcommand{\dband}{\; \textnormal{and} \;}

\newcommand{\ProbP}{\operatorname{\text{I\kern-0.15em P}}}
\newcommand{\Prob}[1]{\ProbP \left( #1 \right)}
\newcommand{\CondProb}[2]{\ProbP \left( #1 \;\middle|\; #2 \right)}
\newcommand{\entropy}[1]{\symrm{H}\rbr{#1}}

% Ad-hoc abbreviations
\newcommand{\NNi}[3]{{#1\mathrm{\textnormal{-}NN}}_#2 \left( #3 \right)}
\newcommand{\NN}[2]{{#1\mathrm{\textnormal{-}NN}} \left( #2 \right)}

\newcommand{\Ann}[1]{#1^{\plus}}
\newcommand{\Unann}[1]{#1^{\sminus}}

\newcommand{\exptAnn}{\Ann{\symrm{expt}}}
\newcommand{\exptUnann}{\Unann{\symrm{expt}}}

\newcommand\orient[1]{\operatorname{orient}(#1)}

\newcommand{\vote}{\symsf{vote}}
\newcommand{\Vvote}{\symsf{\symbf{{vote}}}}

\newcommand{\Dormancy}{\symsf{Dormancy}}
\newcommand{\MacroActivity}{\symsf{Macro \mhyphen activity}}
\newcommand{\Quiescence}{\symsf{Quiescence}}
\newcommand{\MicroActivity}{\symsf{Micro \mhyphen activity}}

\newcommand{\predAnn}{\symsf{pred \mhyphen a}}
\newcommand{\VpredAnn}{\symsf{\symbf{{pred \mhyphen a}}}}
\newcommand{\trueAnn}{\symsf{true \mhyphen a}}
\newcommand{\VtrueAnn}{\symsf{\symbf{{true \mhyphen a}}}}

\let\bsim\sim 
\renewcommand{\sim}{{\bsim}}
\renewcommand{\d}[1]{\ensuremath{\operatorname{d}\!{#1}}}

\newlength{\dhatheight}
\newcommand{\doublehat}[1]{%
    \settoheight{\dhatheight}{\ensuremath{\hat{#1}}}%
    \addtolength{\dhatheight}{-0.35ex}%
    \hat{\vphantom{\rule{1pt}{\dhatheight}}%
    \smash{\hat{#1}}}
}

\algrenewcommand\algorithmiccomment[1]{\hfill \# \textit{#1}}

\newcommand{\TODO}[1]{\textcolor{red}{[\texttt{TODO:} #1]}}
\newcommand{\NOTE}[1]{\textcolor{lacivert}{[\texttt{NOTE:} #1]}}
\newcommand{\CITE}{\textcolor{purple}{[\texttt{CITE}]}}

\makeindex

%%%%%%%%%%%%
% Style Settings %
%%%%%%%%%%%%
\onehalfspacing
\setlength{\epigraphwidth}{0.75\textwidth}
\hypersetup{
  colorlinks   = true, % Colours links instead of ugly boxes
  urlcolor     = blue, % Colour for external hyperlinks
  linkcolor    = black, % Colour of internal links
  citecolor   = black % Colour of citations
}

% Theorem etc.
\newtheorem{Theorem}{Theorem}[chapter] 
\newtheorem{Hypothesis}{Hypothesis}[chapter] 
\newtheorem{Proposition}{Proposition}[chapter] 
\newtheorem{Corollary}{Corollary}[chapter] 
\newtheorem{Lemma}{Lemma}[chapter] 
\newtheorem{Remark}{Remark}[chapter] 
\newtheorem{Definition}{Definition}[chapter] 

% Table formatting
\setlength{\arrayrulewidth}{0.6mm}
\setlength{\tabcolsep}{10pt}
\renewcommand{\arraystretch}{1.05}

% Algorithm formatting
\renewcommand\floatpagefraction{0.95}
\renewcommand\topfraction{0.95}
\renewcommand\bottomfraction{0.95}
\renewcommand\textfraction{0.05}

% Caption formatting
\captionsetup{labelfont=bf}
\captionsetup{labelsep=none}
\DeclareCaptionLabelSeparator{none}{ }

% Footnote formatting
\setlength{\footnotesep}{\baselineskip} 
\setlength{\footskip}{1.5em} 
\renewcommand\footnotelayout{\fontsize{9}{9}\selectfont}
\setlength{\footnotemargin}{0em}

% Citation style
\bibliographystyle{apalike} 

% Chapter heading formatting
\titleformat{\chapter}[block]{\centering}{\vspace{4\baselineskip} \bf\centering \thechapter.}{\baselineskip}{\vspace{\baselineskip} \expandafter\MakeUppercase\expandafter \bf} 

% Section heading formatting
\titleformat{\section}[block]{\vspace{2\baselineskip}\bf\normalsize\centering}{\thesection}{1ex}{\bf \vspace{2\baselineskip}}
\titleformat{\subsection}[block]{\vspace{2\baselineskip}\bf\normalsize}{\thesubsection}{1ex}{\bf \vspace{\baselineskip}} 
\titleformat{\subsubsection}[block]{\vspace{2\baselineskip}\bf\normalsize}{\thesubsubsection}{1ex}{\bf \vspace{\baselineskip}}
\titleformat{\part}[block]{\LARGE \centering}{\bf Part \thepart}{0em}{\hline \vspace{0.5cm} \bf}
\titlespacing{\part}{0pt}{0.5in}{2.0cm} 

% SU style requirements
\addto\captionsenglish{
    \renewcommand{\contentsname}{\MakeUppercase{\bf Table of Contents}}
}
\addto\captionsenglish{
    \renewcommand{\listtablename}{\bf LIST OF TABLES}
}
\addto\captionsenglish{
    \renewcommand{\listfigurename}{\bf LIST OF FIGURES}
}
\addto\captionsenglish{
    \renewcommand{\bibsection}{\centering \textbf{BIBLIOGRAPHY} \vspace{3\baselineskip}}
}

\newcounter{acount}\renewcommand{\theacount}{\arabic{acount}}
\AtBeginEnvironment{enumerate}{\stepcounter{acount}}
\setlist[enumerate]{label=\theacount.\arabic*,ref=\theacount.\arabic*} 
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

\newenvironment{tightcenter}{%
    \setlength\topsep{0pt}
    \setlength\parskip{0pt}
    \begin{center}
        }{%
    \end{center}
}

\renewcommand*\l@chapter[2]{%
 \ifnum \c@tocdepth >\m@ne
 \addpenalty{-\@highpenalty}%
 \vskip 1.0em \@plus\p@
 \setlength\@tempdima{1.5em}%
 \begingroup
 \parindent \z@ \rightskip \@pnumwidth
 \parfillskip -\@pnumwidth
 \leavevmode \bfseries
 \advance\leftskip\@tempdima
 \hskip -\leftskip
 #1\nobreak\leaders\hbox{\normalfont$\m@th
 \mkern \@dotsep mu\hbox{.}\mkern \@dotsep
 mu$}\hfill \nobreak\hb@xt@\@pnumwidth{\hss #2}\par
 \penalty\@highpenalty
 \endgroup
 \fi}

\makeatletter
